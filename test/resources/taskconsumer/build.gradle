import org.koshinuke.yuzen.gradle.BlogTask;

buildscript {
	repositories {
		mavenCentral()
		flatDir { dirs '../../../build/libs' }
	}
	dependencies {
		classpath 'org.thymeleaf:thymeleaf:2.0.+'
		// maven-ant-tasks-x.x.x.jarがnekohtmlを内包しており、
		// それがorg.apache.xerces.parsers.DOMParserを継承している為、回避措置。
		classpath 'xerces:xercesImpl:2.10.0'
		
		classpath 'com.google.guava:guava:11.+'
		classpath 'org.pegdown:pegdown:1.1.+'
		classpath 'org.koshinuke:yuzen:0.0.1-SNAPSHOT'
		classpath 'org.mortbay.jetty:servlet-api:3.0.20100224'
		[
			'jetty-server',
			'jetty-servlet'
		].each {
			classpath ("org.eclipse.jetty:$it:8.+") { exclude group: 'org.eclipse.jetty.orbit' }
		}
	}
}

apply plugin: 'yuzen'

blog {
	title "ぶろぐ たいとる"
	subtitle "さぶさぶさぶたい"
}

task blog(overwrite: true, type: BlogTask) {
	destinationDir = file("${project.buildDir}/html")
	doLast {
		println "xxx $destinationDir"
	}
}

task blog2(type: BlogTask) {
	destinationDir = file("${project.buildDir}/bb")
	doLast {
		println "xxx $destinationDir"
	}
}
