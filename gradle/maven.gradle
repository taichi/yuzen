
apply plugin: 'maven'
apply plugin: 'signing'

signing {
	required { gradle.taskGraph.hasTask("uploadArchives") }
	sign configurations.archives
}

uploadArchives {

	doFirst {
		repositories.mavenDeployer {
			pom.project {
				parent {
					groupId 'org.sonatype.oss'
					artifactId 'oss-parent'
					version '7'
				}
				licenses {
					license {
						name 'The Apache Software License, Version 2.0'
						url 'http://www.apache.org/licenses/LICENSE-2.0.txt'
						distribution 'repo'
					}
				}
				developers {
					developer {
						id 'taichi'
						name 'SATO taichi'
						email 'ryushi@gmail.com'
					}
				}
			}
		}
	}
}